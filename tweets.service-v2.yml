---
version: '3'
services:
  tweets-worker:
    build: tweets-service-ver2/worker
    ports:
      - 8080
      - 8081
  tweets-indexer:
    build: tweets-service-ver2/indexer
    ports:
      - 8080
      - 8081
  tweets-search:
    build: tweets-service-ver2/search
    ports:
      - 8080:28080
      - 8081
  tweets-elasticsearch:
    image: docker.elastic.co/elasticsearch/elasticsearch:5.6.2
    environment:
          - discovery.type=single-node
          - xpack.security.enabled=false
          - "ES_JAVA_OPTS=-Xms512m -Xmx512m"